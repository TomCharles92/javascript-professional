<!DOCTYPE>
<html>
<header>
    <meta charset="UTF-8">
    <title>Promise</title>
</header>

<body>
    <a href="https://www.liaoxuefeng.com/wiki/1022910821149312/1023024413276544">地址</a>
</body>

<script>
    // function test(resolve, reject) {
    //     var timeOut = Math.random() * 2;
    //     console.log('set timeout to: ' + timeOut + ' seconds.');
    //     setTimeout(function () {
    //         if (timeOut < 1) {
    //             console.log('call resolve()...');
    //             resolve('200 OK');
    //         }
    //         else {
    //             console.log('call reject()...');
    //             reject('timeout in ' + timeOut + ' seconds.');
    //         }
    //     }, timeOut * 1000);
    // }

    // new Promise(test)
    //     .then(function (result) {
    //         console.log('成功：' + result);
    //     })
    //     .catch(function (reason) {
    //         console.log('失败：' + reason);
    //     })

    // new Promise(function (resolve, reject) {
    //     var timeOut = Math.random() * 2;
    //     console.log('set timeout to: ' + timeOut + ' seconds.');
    //     setTimeout(function () {
    //         if (timeOut < 1) {
    //             console.log('call resolve()...');
    //             resolve('200 OK');
    //         }
    //         else {
    //             console.log('call reject()...');
    //             reject('timeout in ' + timeOut + ' seconds.');
    //         }
    //     }, timeOut * 1000);
    // }).then(function (result) {
    //     console.log('成功：' + result);
    // }).catch(function (reason) {
    //     console.log('失败：' + reason);
    // })

    function multiply(input) {
        return new Promise(function (resolve, reject) {
            console.log('calculating ' + input + ' x ' + input + '...');
            setTimeout(resolve, 500, input * input);
        });
    }

    new Promise(function (resolve, reject) {
        console.log('start new Promise...');
        resolve(123);
    })
        .then(function (input) {
            return new Promise(function (resolve, reject) {
                console.log('calculating ' + input + ' x ' + input + '...');
                setTimeout(resolve, 500, input * input);
            });
        })
        .then(multiply)
        .then(multiply)

    setTimeout(function(num) {
        console.log(num);
    }, 1000, 456)
</script>

</html>